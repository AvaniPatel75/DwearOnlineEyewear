<div class="offcanvas-header">
  <h5 class="offcanvas-title" id="offcanvasExampleLabel">Your Cart ðŸ˜Š</h5>
</div>
<!-- <h6>{{data | json}}</h6> -->

<div class="offcanvas-body">
  <div *ngFor="let i of data" class="card mb-3" style="max-width: 400px;">
    <div class="row g-0">
      <!-- Left Side: Product Image -->
      <div class="col-md-4 d-flex align-items-center">
        <img [src]="i.image_url" class="img-fluid rounded-start" alt="Product Image" style="height: 100px; object-fit: cover;">
      </div>
      <!-- Right Side: Product Details -->
      <div class="col-md-8">
        <div class="card-body">
          <h6 class="card-subtitle text-muted">Quantity: {{ i.quantity }}</h6>
          <h6 class="card-subtitle text-muted">price: {{ i.price }}</h6>
          <h6 class="card-text">color:{{ i.selectedColor }}</h6>
          <h6 class="card-text text-success">Price:{{ i.total_price }}</h6>
          <h6 class="card-title text-muted">{{ i.added_at | date:'dd-MM-yyyy'}}</h6>
          <div class="container">
           <div class="row">
            <div class="col-7"><a [routerLink]="['/placeOrder']" class="btn btn-primary rounded-1 p-1 fs-7 btn-cart"><svg width="15" height="15"><use xlink:href="#cart"></use></svg>Proceed To Order</a></div>
            <div class="col-10"><a [routerLink]="['/Yourcart']" class="btn btn-danger rounded-1 p-1 fs-7 btn-cart"(click)="removeProduct(i._id)" >
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3-fill" viewBox="0 0 16 16">
                <path d="M11 1.5va1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5"/>
              </svg>
              Remove</a></div>
           </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <span class="text-lg" style="font-size: 20px;font-weight: 400;font-family: Arial, Helvetica, sans-serif;">Total Price :{{totalPrice}}</span>
  <br/>
  <button class="btn btn-primary rounded-1 p-1 fs-7 btn-cart" style="width: 400px;" (click)="proceedToOrder()">Place Order</button>
  <div class=" mt-3 p-3" *ngIf="isFormOpen">
      <h4>Shipping Details</h4>
     <div class="container" *ngIf="isFormOpen">
      <form [formGroup]="orderForm" (ngSubmit)="placeOrder(data,$event)">
        <div class="mb-2">
          <label>Street:</label>
          <input formControlName="street" class="form-control" required>
        </div>
        <div class="mb-2">
          <label>City:</label>
          <input formControlName="city" class="form-control" required>
        </div>
        <div class="mb-2">
          <label>State:</label>
          <input formControlName="state" class="form-control" required>
        </div>
        <div class="mb-2">
          <label>Pincode:</label>
          <input formControlName="pin" type="number" class="form-control" required>
        </div>
        <div class="mb-2">
          <label>Country:</label>
          <input formControlName="country" type="text" class="form-control" required>
        </div>
        <div class="mb-2">
          <label>Payment Method:</label>
          <select formControlName="payment_method" class="form-control">
            <option>Credit Card</option>
            <option>Cash on Delivery</option>
            <option>Net Banking</option>
            <option>UPI</option>
          </select>
        </div>
        <button class="btn btn-success mt-2 w-100" type="submit" (click)="placeOrder(data,$event)">Confirm Order</button>
      </form>
      
     </div>
    </div>
</div>
